@model KudosDash.Models.FeedbackVM

@{
    ViewData["Title"] = "ManagerApproved";
}

<h1>ManagerApproved</h1>
<div>
<dl class="row">
    <dt class="col-sm-2">
        Author
    </dt>
    <dd class="col-sm-10">
        @foreach (var item in Model.Feedback)
            {
            <p>@Model.User.FirstOrDefault(x => x.Id == item.Author).FirstName @Model.User.FirstOrDefault(x => x.Id == item.Author).LastName</p>
            }
    </dd>
    <dt class="col-sm-2">
        User
    </dt>
    <dd class="col-sm-10">
        @foreach (var item in Model.Feedback)
            {
            <p>@Model.User.FirstOrDefault(x => x.Id == item.TargetUser).FirstName @Model.User.FirstOrDefault(x => x.Id == item.TargetUser).LastName</p>
            }
    </dd>
    <dt class="col-sm-2">
        Feedback Date
    </dt>
    <dd class="col-sm-10">
        @foreach (var item in Model.Feedback)
            {
            <p>@item.FeedbackDate</p>
            }
    </dd>
    <dt class="col-sm-2">
        Feedback
    </dt>
    <dd class="col-sm-10">
       @foreach (var item in Model.Feedback)
            {
            <p>@item.FeedbackText</p>
            }
    </dd>
</dl>
</div>
<div>
    <form asp-action="ManagerApprove">
        @foreach (var item in Model.Feedback)
            {
            <input type="hidden" asp-for="@item.Id" />
            }
        <input type="submit" value="Approve" class="btn btn-success" />
        <a class="btn btn-secondary" asp-action="Index">Back</a>
    </form>
</div>
